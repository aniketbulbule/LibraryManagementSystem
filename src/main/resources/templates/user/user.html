<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: content">
<body>
  <h2>My Loans</h2>
  <table>
    <tr><th>Title</th><th>Due Date</th><th>Status</th><th>Fine</th><th>Action</th></tr>
    <tr th:each="l : ${loans}">
      <td th:text="${l.book.title}"></td>
      <td th:text="${l.dueDate}"></td>
      <td th:text="${l.status}"></td>
      <td th:text="${l.fine}"></td>
      <td>
        <form th:if="${l.status.name() == 'ACTIVE'}" th:action="@{'/user/return/' + ${l.id}}" method="post">
          <button type="submit">Return</button>
        </form>
      </td>
    </tr>
  </table>
</body>
</html>
